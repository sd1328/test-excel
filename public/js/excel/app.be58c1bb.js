(function(e){function t(t){for(var n,o,l=t[0],s=t[1],u=t[2],f=0,h=[];f<l.length;f++)o=l[f],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&h.push(r[o][0]),r[o]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);c&&c(t);while(h.length)h.shift()();return i.push.apply(i,u||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,l=1;l<a.length;l++){var s=a[l];0!==r[s]&&(n=!1)}n&&(i.splice(t--,1),e=o(o.s=a[0]))}return e}var n={},r={app:0},i=[];function o(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=n,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(a,n,function(t){return e[t]}.bind(null,n));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var c=s;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";var n=a("85ec"),r=a.n(n);r.a},"440d":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=a("bc3a"),i=a.n(r),o=a("2106"),l=a.n(o),s=a("5f5b"),u=a("b1e0"),c=a("a7e2"),f=a("1f1a"),h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("tableGrid")],1)},d=[],p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-table",{attrs:{busy:!1,"no-border-collapse":"",bordered:"",hover:"",responsive:"","show-empty":"","sticky-header":"900px",items:e.shemaTable,fields:e.fields,"row-click-handler":e.handleRowFunction},scopedSlots:e._u([{key:"table-busy",fn:function(){return[a("div",{staticClass:"text-center text-danger my-2"},[a("b-spinner",{staticClass:"align-middle"}),a("strong",[e._v("Loading...")])],1)]},proxy:!0},{key:"cell()",fn:function(t){return[!0===t.item.options.editMode&&t.field.key===e.editCell?a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.valueCell,expression:"valueCell"},{name:"autofocus",rawName:"v-autofocus"}],domProps:{value:e.valueCell},on:{blur:function(t){return e.handleBlur()},input:function(t){t.target.composing||(e.valueCell=t.target.value)}}})]):a("div",[a("span",{class:"___"===t.value?"disableEmpty":"",on:{click:function(a){return e.handleRow(t)}}},[e._v(e._s(t.value))])])]}}])})],1)},v=[],b=(a("99af"),a("4160"),a("c975"),a("d81d"),a("13d5"),a("a434"),a("b64b"),a("d3b7"),a("ac1f"),a("25f0"),a("6062"),a("3ca3"),a("1276"),a("159b"),a("ddb0"),a("2909")),m=a("ade3"),_=a("8a0a"),y=a.n(_);n["default"].directive("autofocus",y.a);var C={data:function(){return{pathPrams:"",handleRowFunction:this.handleRow,shemaTable:[],editCell:"",valueCell:"",fields:[{key:"_",isRowHeader:!0,variant:"primary",thStyle:{backgroundColor:"#ffffff"}},"A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],items:[{_:1,A:"1",B:"Dickerson",BB:"Macdonald"},{_:2,A:"4",B:"Larsen",C:"Shaw"},{_:3,A:"2",B:"Geneva",C:"Wilson",E:"rrr"},{_:4,A:"3",B:"Jami",AA:"Carney"},{_:5,AA:"3",B:"Jami",CC:"Carney"},{_:6,A:"3",B:"Jami",C:"123"},{_:7,A:"3",B:"567",C:"777"},{_:8,A:"3",B:"555",C:"8888"},{_:9,A:"3",B:"778",C:"12234"},{_:10,A:"3",B:"5678",C:"00008"},{_:30,A:"3",B:"AVB",C:"Carney"}]}},props:{},mounted:function(){var e=this;this.pathPrams=window.location.pathname.split("/");var t=JSON.stringify({start_col:"A",start_row:"1",end_col:"AA",end_row:"50"}),a={method:"post",url:"/table/"+this.pathPrams[2]+"/editor/get",headers:{"Content-Type":"application/json"},data:t},r=[{t:"c",r:1,c:"AA",v:"Номер111"},{t:"n",r:2,c:"B",v:111},{t:"c",r:4,c:"C",v:"Номер"},{t:"n",r:3,c:"D",v:"222"}];n["default"].axios(a).then((function(e){r=e.data})).catch((function(e){console.log(e,"<<<<<<<<======errorerrorerror")}));var i=[];r.length&&r.forEach((function(e){i.push(Object(m["a"])({_:e.r},e.c,e.v))})),this.items=i.length?i:[];var o=[];this.items.forEach((function(e){var t=JSON.parse(JSON.stringify(e));delete t["options"],o.push.apply(o,Object(b["a"])(Object.keys(t)))}));var l=JSON.parse(JSON.stringify(this.fields));o.push.apply(o,Object(b["a"])(l));var s=new Set(o);s=Object(b["a"])(s).sort(),s.splice(s.length-2,2),s=Object(b["a"])(s).sort((function(e,t){if(e.length<t.length)return-1})),this.fields=[this.fields[0]].concat(Object(b["a"])(s));var u=[];this.fields.forEach((function(e,t){t>0&&u.push(Object(m["a"])({},e,"___"))})),u=u.reduce((function(e,t){for(var a in t)e[a]=t[a];return e}),{});for(var c=1;c<31;c+=1){var f=JSON.parse(JSON.stringify(u));f._=c,this.shemaTable.push(f)}this.items.forEach((function(t,a){if(e.shemaTable.forEach((function(a,n){if(t._===a._)for(var r in e.shemaTable[n])for(var i in t)i===r&&(e.shemaTable[n][r]=t[i])})),a>30)return!1})),this.shemaTable=this.shemaTable.map((function(e){return e.options={editMode:!1,key:Math.random()},e}))},methods:{handleRow:function(e){var t=this;"___"!==e.value&&(this.valueCell=e.value),this.shemaTable.forEach((function(a,n){a._===e.item._&&"_"!==e.field.key&&(t.editCell=e.field.key,t.currentRow=n,t.currentCow=e.field.key,t.shemaTable=t.shemaTable.map((function(e){return e.options.editMode=!1,e})),t.shemaTable[n]["options"].editMode=!0,t.shemaTable[n][e.field.key].substring(0,t.shemaTable[n][e.field.key].length-1))}))},handleBlur:function(){this.shemaTable=this.shemaTable.map((function(e){return e.options.editMode=!1,e}));var e=this.shemaTable[this.currentRow][this.currentCow];if("="===this.valueCell[0]){var t=this.valueCell.split("=").pop(),a=(t.indexOf("("),t.split("(")[0]);if("СУММ"===a)t.split("(")[1]}"___"!==e.toString()?this.valueCell?this.shemaTable[this.currentRow][this.currentCow]=this.valueCell:this.shemaTable[this.currentRow][this.currentCow]:this.valueCell&&(this.shemaTable[this.currentRow][this.currentCow]=this.valueCell),this.valueCell||(this.shemaTable[this.currentRow][this.currentCow]="___");var r=JSON.stringify({col:this.currentCow,row:this.currentRow+1,value:this.valueCell}),i={method:"post",url:"/table/"+this.pathPrams[2]+"/editor/set",headers:{"Content-Type":"application/json"},data:r};n["default"].axios(i).then((function(e){})).catch((function(e){console.log(e,"<<<<<<<<======error")})),this.valueCell=""}}},w=C,g=(a("f819"),a("2877")),O=Object(g["a"])(w,p,v,!1,null,"172da43c",null),T=O.exports,A={name:"App",components:{tableGrid:T}},j=A,k=(a("034f"),Object(g["a"])(j,h,d,!1,null,null,null)),S=k.exports;a("f9e3"),a("2dd8");n["default"].use(s["a"]),n["default"].use(u["a"]),n["default"].use(c["a"]),n["default"].use(f["a"]),n["default"].use(l.a,i.a),n["default"].config.productionTip=!1,new n["default"]({render:function(e){return e(S)}}).$mount("#app")},"85ec":function(e,t,a){},f819:function(e,t,a){"use strict";var n=a("440d"),r=a.n(n);r.a}});
//# sourceMappingURL=app.be58c1bb.js.map