(function(e){function t(t){for(var a,o,l=t[0],s=t[1],u=t[2],f=0,h=[];f<l.length;f++)o=l[f],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&h.push(r[o][0]),r[o]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);c&&c(t);while(h.length)h.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,l=1;l<n.length;l++){var s=n[l];0!==r[s]&&(a=!1)}a&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},r={app:0},i=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var c=s;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var a=n("85ec"),r=n.n(a);r.a},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=n("bc3a"),i=n.n(r),o=n("2106"),l=n.n(o),s=n("5f5b"),u=n("b1e0"),c=n("a7e2"),f=n("1f1a"),h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("tableGrid")],1)},d=[],p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-table",{attrs:{busy:!1,"no-border-collapse":"",bordered:"",hover:"",responsive:"","show-empty":"","sticky-header":"900px",items:e.shemaTable,fields:e.fields,"row-click-handler":e.handleRowFunction},scopedSlots:e._u([{key:"table-busy",fn:function(){return[n("div",{staticClass:"text-center text-danger my-2"},[n("b-spinner",{staticClass:"align-middle"}),n("strong",[e._v("Loading...")])],1)]},proxy:!0},{key:"cell()",fn:function(t){return[!0===t.item.options.editMode&&t.field.key===e.editCell?n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.valueCell,expression:"valueCell"},{name:"autofocus",rawName:"v-autofocus"}],domProps:{value:e.valueCell},on:{blur:function(t){return e.handleBlur()},input:function(t){t.target.composing||(e.valueCell=t.target.value)}}})]):n("div",[n("span",{class:"___"===t.value?"disableEmpty":"",on:{click:function(n){return e.handleRow(t)}}},[e._v(e._s(t.value))])])]}}])})],1)},v=[],b=(n("99af"),n("4160"),n("c975"),n("d81d"),n("13d5"),n("a434"),n("b64b"),n("d3b7"),n("ac1f"),n("25f0"),n("6062"),n("3ca3"),n("1276"),n("159b"),n("ddb0"),n("2909")),m=n("ade3"),_=n("8a0a"),y=n.n(_);a["default"].directive("autofocus",y.a);var C={data:function(){return{pathPrams:"",handleRowFunction:this.handleRow,shemaTable:[],editCell:"",valueCell:"",fields:[{key:"_",isRowHeader:!0,variant:"primary",thStyle:{backgroundColor:"#ffffff"}},"A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],items:[{_:1,A:"1",B:"Dickerson",BB:"Macdonald"},{_:2,A:"4",B:"Larsen",C:"Shaw"},{_:3,A:"2",B:"Geneva",C:"Wilson",E:"rrr"},{_:4,A:"3",B:"Jami",AA:"Carney"},{_:5,AA:"3",B:"Jami",CC:"Carney"},{_:6,A:"3",B:"Jami",C:"123"},{_:7,A:"3",B:"567",C:"777"},{_:8,A:"3",B:"555",C:"8888"},{_:9,A:"3",B:"778",C:"12234"},{_:10,A:"3",B:"5678",C:"00008"},{_:30,A:"3",B:"AVB",C:"Carney"}]}},props:{},mounted:function(){var e=this;this.pathPrams=window.location.pathname.split("/");var t=JSON.stringify({start_col:"A",start_row:"1",end_col:"AA",end_row:"50"}),n={method:"post",url:"/table/"+this.pathPrams[2]+"/editor/get",headers:{"Content-Type":"application/json"},data:t},r=[{t:"c",r:1,c:"AA",v:"Номер111"},{t:"n",r:2,c:"B",v:111},{t:"c",r:4,c:"C",v:"Номер"},{t:"n",r:3,c:"D",v:"222"}];a["default"].axios(n).then((function(e){console.log(e,"<<<<<<<<<<<<<<========"),r=e})).catch((function(e){console.log(e,"<<<<<<<<======errorerrorerror")}));var i=[];r.length&&r.forEach((function(e){i.push(Object(m["a"])({_:e.r},e.c,e.v))})),this.items=i.length?i:[];var o=[];this.items.forEach((function(e){var t=JSON.parse(JSON.stringify(e));delete t["options"],o.push.apply(o,Object(b["a"])(Object.keys(t)))}));var l=JSON.parse(JSON.stringify(this.fields));o.push.apply(o,Object(b["a"])(l));var s=new Set(o);s=Object(b["a"])(s).sort(),s.splice(s.length-2,2),s=Object(b["a"])(s).sort((function(e,t){if(e.length<t.length)return-1})),this.fields=[this.fields[0]].concat(Object(b["a"])(s));var u=[];this.fields.forEach((function(e,t){t>0&&u.push(Object(m["a"])({},e,"___"))})),u=u.reduce((function(e,t){for(var n in t)e[n]=t[n];return e}),{});for(var c=1;c<31;c+=1){var f=JSON.parse(JSON.stringify(u));f._=c,this.shemaTable.push(f)}this.items.forEach((function(t,n){if(e.shemaTable.forEach((function(n,a){if(t._===n._)for(var r in e.shemaTable[a])for(var i in t)i===r&&(e.shemaTable[a][r]=t[i])})),n>30)return!1})),this.shemaTable=this.shemaTable.map((function(e){return e.options={editMode:!1,key:Math.random()},e}))},methods:{handleRow:function(e){var t=this;"___"!==e.value&&(this.valueCell=e.value),this.shemaTable.forEach((function(n,a){n._===e.item._&&"_"!==e.field.key&&(t.editCell=e.field.key,t.currentRow=a,t.currentCow=e.field.key,t.shemaTable=t.shemaTable.map((function(e){return e.options.editMode=!1,e})),t.shemaTable[a]["options"].editMode=!0,t.shemaTable[a][e.field.key].substring(0,t.shemaTable[a][e.field.key].length-1))}))},handleBlur:function(){this.shemaTable=this.shemaTable.map((function(e){return e.options.editMode=!1,e}));var e=this.shemaTable[this.currentRow][this.currentCow];if("="===this.valueCell[0]){var t=this.valueCell.split("=").pop(),n=(t.indexOf("("),t.split("(")[0]);if("СУММ"===n)t.split("(")[1]}"___"!==e.toString()?this.valueCell?this.shemaTable[this.currentRow][this.currentCow]=this.valueCell:this.shemaTable[this.currentRow][this.currentCow]:this.valueCell&&(this.shemaTable[this.currentRow][this.currentCow]=this.valueCell),this.valueCell||(this.shemaTable[this.currentRow][this.currentCow]="___");var r=JSON.stringify({col:this.currentCow,row:this.currentRow+1,value:this.valueCell}),i={method:"post",url:"/table/"+this.pathPrams[2]+"/editor/set",headers:{"Content-Type":"application/json"},data:r};a["default"].axios(i).then((function(e){console.log(e,"<<<<<<<<<<<<<<========")})).catch((function(e){console.log(e,"<<<<<<<<======error")})),this.valueCell=""}}},w=C,g=(n("702f"),n("2877")),O=Object(g["a"])(w,p,v,!1,null,"42843f1e",null),T=O.exports,A={name:"App",components:{tableGrid:T}},j=A,k=(n("034f"),Object(g["a"])(j,h,d,!1,null,null,null)),S=k.exports;n("f9e3"),n("2dd8");a["default"].use(s["a"]),a["default"].use(u["a"]),a["default"].use(c["a"]),a["default"].use(f["a"]),a["default"].use(l.a,i.a),a["default"].config.productionTip=!1,new a["default"]({render:function(e){return e(S)}}).$mount("#app")},"702f":function(e,t,n){"use strict";var a=n("ec98"),r=n.n(a);r.a},"85ec":function(e,t,n){},ec98:function(e,t,n){}});
//# sourceMappingURL=app.ba425bfe.js.map